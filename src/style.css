@tailwind base;
@tailwind components;
@tailwind utilities;

/* 消息容器动态高度 */
.messages-container {
    height: 0;
    flex-grow: 1;
    min-height: 0;
}

/* 自定义滚动条 */
.custom-scrollbar::-webkit-scrollbar {
    @apply w-1;
}

.custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
}

/* 隐藏滚动条但保持滚动功能 */
.scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
}

/* 打字动画 */
.typing-dot {
    @apply w-2 h-2 bg-gray-400 rounded-full animate-pulse-dot;
}

.typing-dot:nth-child(1) {
    animation-delay: -0.32s;
}

.typing-dot:nth-child(2) {
    animation-delay: -0.16s;
}

.typing-dot:nth-child(3) {
    animation-delay: 0s;
}

/* 移动端优化 */
@media (max-width: 1024px) {
    /* 防止移动端缩放 */
    html {
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
    }

    /* 优化触摸体验 */
    button,
    .cursor-pointer {
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
    }

    /* 抽屉动画 */
    .drawer-enter-active,
    .drawer-leave-active {
        transition: transform 0.3s ease;
    }

    .drawer-enter-from {
        transform: translateX(-100%);
    }

    .drawer-leave-to {
        transform: translateX(-100%);
    }

    /* 确保移动端全屏布局 */
    body {
        overflow: hidden;
    }

    #app {
        height: 100vh;
        overflow: hidden;
    }
}

/* 确保全屏高度和背景色 */
html,
body {
    height: 100%;
    overflow: hidden;
    background-color: #e1b978; /* retro-yellow 的颜色值 */
}

#app {
    height: 100vh;
    overflow: hidden;
}

/* 复古鼠标样式 */
* {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><polygon points="0,0 0,16 6,12 10,20 14,18 10,10 16,10" fill="%23000" stroke="%23fff" stroke-width="1"/></svg>'),
        auto;
}

/* 悬停时的手型光标 */
button,
a,
.cursor-pointer,
[role='button'] {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8 2C7.45 2 7 2.45 7 3V11H6C5.45 11 5 11.45 5 12V17C5 18.1 5.9 19 7 19H16C17.1 19 18 18.1 18 17V12C18 11.45 17.55 11 17 11H16V8C16 7.45 15.55 7 15 7S14 7.45 14 8V11H13V6C13 5.45 12.55 5 12 5S11 5.45 11 6V11H10V4C10 3.45 9.55 3 9 3S8 3.45 8 4V2Z" fill="%23000" stroke="%23fff" stroke-width="1"/></svg>'),
        pointer !important;
}

/* 文本选择时的光标 */
input,
textarea,
[contenteditable] {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><rect x="11" y="2" width="2" height="20" fill="%23000"/><rect x="8" y="2" width="8" height="2" fill="%23000"/><rect x="8" y="20" width="8" height="2" fill="%23000"/></svg>'),
        text !important;
}

/* 调整大小时的光标 */
.resize-cursor {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13,21H21V13H19V17.59L6.41,5H11V3H3V11H5V6.41L17.59,19H13V21Z" fill="%23000" stroke="%23fff" stroke-width="1"/></svg>'),
        nw-resize !important;
}
